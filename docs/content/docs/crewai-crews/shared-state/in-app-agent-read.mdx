---
title: Reading the outputs
icon: "lucide/ArrowLeft"
description: Read the agent state in your native application.
---

import { ImageZoom } from "fumadocs-ui/components/image-zoom";
import { IframeSwitcher } from "@/components/content"
import RunAndConnect from "@/snippets/integrations/crewai-crews/run-and-connect.mdx"

<IframeSwitcher
  id="shared-state-example"
  exampleUrl="https://feature-viewer.copilotkit.ai/langgraph/feature/shared_state?sidebar=false&chatDefaultOpen=false"
  codeUrl="https://feature-viewer.copilotkit.ai/langgraph/feature/shared_state?view=code&sidebar=false&codeLayout=tabs"
  exampleLabel="Demo"
  codeLabel="Code"
  height="700px"
/>

<Callout type="info">
  This example demonstrates reading from shared state in the [CopilotKit Feature Viewer](https://feature-viewer.copilotkit.ai/langgraph/feature/shared_state).
</Callout>

## What is this?

You can easily use the realtime agent state in the native application UX.

## When should I use this?

You can use this when you want to provide the user with a way to read the outputs of a CrewAI Crew from your application.

## Implementation

<Steps>
  <Step>
    ### Run and connect your agent
    <RunAndConnect components={props.components} />
  </Step>
  <Step>
    ### Use the `useCoAgent` Hook
    With your agent connected and running all that is left is to call the [useCoAgent](/reference/hooks/useCoAgent) hook, pass the agent's name, and
    optionally provide an initial state.

    ```tsx title="ui/app/page.tsx"
    import { useCoAgent } from "@copilotkit/react-core"; // [!code highlight]

    // Define the agent state type, should match the actual state of your agent


    function YourMainContent() {
      const { state } = useCoAgent({
        name: "research_crew",
        initialState: {
          inputs: {
            topic: "",
            current_year: "2025",
          },
          outputs: "Report will appear here",
        },
      });

      // ...

      return (
        // style excluded for brevity
        <div>
          <h1>Your report:</h1>
          <p>{state.outputs}</p> // [!code highlight]
        </div>
      );
    }
    ```
    <Callout type="info">
      The `state` in `useCoAgent` is reactive and will automatically update when the agent's state changes.
    </Callout>

  </Step>
  <Step>
    ### Give it a try!
    As the agent state updates, your `state` variable will automatically update with it! In this case, you'll see the report update when the crew is done running.

    <Frame>
      <ImageZoom
        src="https://cdn.copilotkit.ai/docs/copilotkit/images/coagents/read-agent-state.png"
        alt="read agent state"
        width={1000}
        height={1000}
        className="my-0"
      />
    </Frame>

    <Callout type="info">
      Pictured above is the [coagent
      starter](https://github.com/copilotkit/copilotkit/tree/main/examples/coagents-starter-crewai-crews)
      with the [implementation](#implementation) section applied!
    </Callout>
  </Step>
</Steps>
