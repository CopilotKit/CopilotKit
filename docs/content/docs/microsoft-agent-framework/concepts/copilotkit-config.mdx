---
title: Streaming and Tool Calls
icon: "lucide/Zap"
description: Microsoft Agent Framework supports streaming messages and tool calls to the frontend via AG-UI.
---

Microsoft Agent Framework and CopilotKit communicate via the AG-UI protocol, which provides built-in support for streaming messages, tool calls, and state updates to the frontend in real-time.

## Message Streaming

Message streaming is **enabled by default** in Microsoft Agent Framework when using AG-UI. As your agent generates responses, they're automatically streamed to the frontend via Server-Sent Events (SSE), providing a responsive user experience.

```csharp
// Message streaming is automatic with AG-UI
var agent = client.GetChatClient(deployment)
    .CreateAIAgent(
        name: "StreamingAgent",
        instructions: "You are a helpful assistant."
    );

// No additional configuration needed - streaming happens automatically
```

<Callout type="info">
  Streaming behavior is handled by the AG-UI protocol. For advanced streaming control, see [Disabling State Streaming](/microsoft-agent-framework/advanced/disabling-state-streaming).
</Callout>

## Tool Call Streaming

Tool calls are automatically streamed to the frontend through the AG-UI protocol. When your agent invokes a function tool, CopilotKit receives:

- Tool call start events
- Tool call arguments
- Tool call results
- Tool call completion

This enables you to render custom UI for tool executions using `useCopilotAction`. See [Generative UI - Backend Tools](/microsoft-agent-framework/generative-ui/backend-tools) for examples.

## Runtime Configuration

For passing runtime configuration (auth tokens, user context, etc.) to your agent, use the `forwardedProps` parameter in your AG-UI handler:

```csharp
app.MapAGUIAgent("/", (messages, tools, context, forwardedProps) =>
{
    // Access configuration from forwardedProps
    // These are properties passed from CopilotKit's properties prop
    
    var client = new AzureOpenAIClient(new Uri(endpoint), new DefaultAzureCredential());
    var agent = client.GetChatClient(deployment)
        .CreateAIAgent(name: "ConfigurableAgent");
    
    return agent;
});
```

For more details, see [Using Agent Execution Parameters](/microsoft-agent-framework/advanced/adding-runtime-configuration).
