---
title: "useCopilotChat_c"
---

{
 /*
  * ATTENTION! DO NOT MODIFY THIS FILE!
  * This page is auto-generated. If you want to make any changes to this page, changes must be made at:
  * CopilotKit/packages/react-core/src/hooks/use-copilot-chat_c.ts
  */
}
`useCopilotChat_c` is the enterprise React hook that provides the complete chat functionality
for fully custom UI (headless UI) implementations. This is the premium version that includes
all advanced features and capabilities.

**Requires a publicApiKey** - Sign up for free at https://cloud.copilotkit.ai/
to get your API key with generous usage limits.

## Key Features:

- **Complete Message Management**: Full access to messages, sendMessage, visibleMessages
- **Advanced Suggestions**: Direct access to suggestions array with full control
- **Interrupt Handling**: Support for advanced interrupt functionality
- **MCP Server Support**: Model Context Protocol server configurations
- **Chat Controls**: Complete set of chat management functions
- **Loading States**: Comprehensive loading state management

## What's Included:

- `messages` - New AG-UI format messages array
- `visibleMessages` - Array of messages currently visible (deprecated format)
- `sendMessage` - Preferred method for sending messages
- `appendMessage` - Legacy method for sending messages (deprecated)
- `setMessages` - Replace all messages in the chat
- `deleteMessage` - Remove a specific message by ID
- `reloadMessages` - Regenerate the response for a specific message
- `stopGeneration` - Stop the current message generation
- `reset` - Clear all messages and reset chat state
- `isLoading` - Whether the chat is currently generating a response
- `runChatCompletion` - Manually trigger chat completion (advanced usage)
- `suggestions` - Current suggestions array (direct access)
- `setSuggestions` - Manually control suggestions
- `generateSuggestions` - Trigger AI-powered suggestion generation
- `resetSuggestions` - Clear all suggestions
- `isLoadingSuggestions` - Whether suggestions are being generated
- `mcpServers` - MCP server configurations
- `setMcpServers` - Update MCP server configurations
- `interrupt` - Advanced interrupt functionality

## Usage:

### Basic Setup

```tsx
import { CopilotKit } from "@copilotkit/react-core";
import { useCopilotChat_c } from "@copilotkit/react-core";

export function App() {
  return (
    <CopilotKit publicApiKey="your-public-api-key">
      <YourComponent />
    </CopilotKit>
  );
}

export function YourComponent() {
  const { messages, sendMessage, isLoading } = useCopilotChat_c();

  const handleSendMessage = async () => {
    await sendMessage({
      id: "123",
      role: "user",
      content: "Hello World",
    });
  };

  return (
    <div>
      {messages.map(msg => <div key={msg.id}>{msg.content}</div>)}
      <button onClick={handleSendMessage} disabled={isLoading}>
        Send Message
      </button>
    </div>
  );
}
```

### Working with Suggestions

```tsx
import { useCopilotChat_c, useCopilotChatSuggestions } from "@copilotkit/react-core";

export function SuggestionExample() {
  const {
    suggestions,
    setSuggestions,
    generateSuggestions,
    isLoadingSuggestions
  } = useCopilotChat_c();

  // Configure AI suggestion generation
  useCopilotChatSuggestions({
    instructions: "Suggest helpful actions based on the current context",
    maxSuggestions: 3
  });

  return (
    <div>
      {suggestions.map(suggestion => (
        <button key={suggestion.title}>{suggestion.title}</button>
      ))}
      <button onClick={generateSuggestions} disabled={isLoadingSuggestions}>
        Generate Suggestions
      </button>
    </div>
  );
}
```

### Advanced Features

```tsx
export function AdvancedChatExample() {
  const {
    messages,
    sendMessage,
    interrupt,
    mcpServers,
    setMcpServers,
    runChatCompletion
  } = useCopilotChat_c();

  // Configure MCP servers
  const setupMCPServers = () => {
    setMcpServers([
      { endpoint: "https://api.example.com/mcp", apiKey: "your-key" }
    ]);
  };

  // Handle interrupts
  const handleInterrupt = () => {
    if (interrupt) {
      interrupt.handler();
    }
  };

  return (
    <div>
      <button onClick={setupMCPServers}>Setup MCP</button>
      <button onClick={handleInterrupt}>Handle Interrupt</button>
      <button onClick={runChatCompletion}>Run Completion</button>
    </div>
  );
}
```

## Return Type:

```tsx
const {
  messages,            // New AG-UI format messages array
  visibleMessages,     // Array of messages currently visible (deprecated format)
  sendMessage,         // Preferred method for sending messages
  appendMessage,       // Legacy method for sending messages (deprecated)
  setMessages,         // Replace all messages in the chat
  deleteMessage,       // Remove a specific message by ID
  reloadMessages,      // Regenerate the response for a specific message
  stopGeneration,      // Stop the current message generation
  reset,               // Clear all messages and reset chat state
  isLoading,           // Whether the chat is currently generating a response
  runChatCompletion,   // Manually trigger chat completion (advanced usage)
  suggestions,         // Current suggestions array (direct access)
  setSuggestions,      // Manually control suggestions
  generateSuggestions, // Trigger AI-powered suggestion generation
  resetSuggestions,    // Clear all suggestions
  isLoadingSuggestions, // Whether suggestions are being generated
  mcpServers,          // MCP server configurations
  setMcpServers,       // Update MCP server configurations
  interrupt,           // Advanced interrupt functionality
} = useCopilotChat_c();
```

## Parameters

<PropertyReference name="id" type="string"  > 
A unique identifier for the chat. If not provided, a random one will be
  generated. When provided, the `useChat` hook with the same `id` will
  have shared states across components.
</PropertyReference>

<PropertyReference name="headers" type="Record<string, string> | Headers"  > 
HTTP headers to be sent with the API request.
</PropertyReference>

<PropertyReference name="initialMessages" type="Message[]"  > 
Initial messages to populate the chat with.
</PropertyReference>

<PropertyReference name="makeSystemMessage" type="SystemMessageFunction"  > 
A function to generate the system message. Defaults to `defaultSystemMessage`.
</PropertyReference>