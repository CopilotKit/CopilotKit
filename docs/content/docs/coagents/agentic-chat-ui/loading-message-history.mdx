---
title: Loading Message History
description: Learn how to load chat messages and threads within the CopilotKit framework.
icon: "lucide/MessagesSquare"
---

### Loading Previous Messages

To load previous messages in CopilotKit, you can simply set the `threadId` property on `<CopilotKit>` like this:

<Callout>
  When using LangGraph platform, the `threadId` must be a UUID.
</Callout>

```tsx
<CopilotKit threadId="37aa68d0-d15b-45ae-afc1-0ba6c3e11353">
  <YourApp />
</CopilotKit>
```

### Dynamically Switching Threads

You can also make the `threadId` dynamic. Once it is set, CopilotKit will load the previous messages for that thread.

```tsx
const [threadId, setThreadId] = useState("af2fa5a4-36bd-4e02-9b55-2580ab584f89");

<CopilotKit threadId={threadId}>
  <YourApp setThreadId={setThreadId} />
</CopilotKit>

// i.e. in YourApp:

setThreadId("679e8da5-ee9b-41b1-941b-80e0cc73a008");
```

### Using setThreadId

In addition, CopilotKit will return the current threadId as well as a `setThreadId` function from the `useCopilotContext` hook. You can use `setThreadId` to change the threadId.

```tsx
const { threadId, setThreadId } = useCopilotContext();

// for example, to change the threadId on a button click:

<Button onClick={() => setThreadId("d73c22f3-1f8e-4a93-99db-5c986068d64f")}>
  Change Thread
</Button>
```

